(function(){"use strict";var a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A;a=window;b=a.WebSharper=a.WebSharper||{};c=b.Testing=b.Testing||{};d=c.Random=c.Random||{};e=d.Sample=d.Sample||{};f=a.StartupCode$WebSharper_Testing$Random=a.StartupCode$WebSharper_Testing$Random||{};g=c.Pervasives=c.Pervasives||{};h=g.TestCategoryBuilder=g.TestCategoryBuilder||{};i=g.Runner=g.Runner||{};j=g.SubtestBuilder=g.SubtestBuilder||{};k=g.TestBuilder=g.TestBuilder||{};l=a.StartupCode$WebSharper_Testing$Pervasives=a.StartupCode$WebSharper_Testing$Pervasives||{};m=c.Runner=c.Runner||{};n=m.RunnerControlBody=m.RunnerControlBody||{};o=c.TestCategory=c.TestCategory||{};p=a.IntelliFactory;q=p&&p.Runtime;r=b&&b.List;s=b&&b.Seq;t=b&&b.Arrays;u=b&&b.Operators;v=a.Math;w=a.String;x=b&&b.Concurrency;y=b&&b.Unchecked;z=a.QUnit;A=b&&b.Enumerator;e=d.Sample=q.Class({get_Data:function(){return this.data;}},b.Obj,e);e.Make=function(B,C){return new e.New$1(B,C);};e.New=q.Ctor(function(B){e.New$1.call(this,B,100);},e);e.New$1=q.Ctor(function(B,C){e.New$2.call(this,r.ofSeq(s.delay(function(){return s.append(s.map(function(D){return t.get(B.Base,D);},u.range(0,t.length(B.Base)-1)),s.delay(function(){return s.map(function(){return B.Next();},u.range(1,C));}));})));},e);e.New$2=q.Ctor(function(B){this.data=B;},e);d.Imply=function(B,C){return d.Implies(B,C);};d.Choose=function(B,C){var D;D=d.Map(function(E){return t.get(B,E);},d.Within(0,t.length(B)-1));return{Base:[],Next:function(){return C(D.Next()).Next();}};};d.Anything=function(){f.$cctor();return f.Anything;};d.allTypes=function(){f.$cctor();return f.allTypes;};d.OptionOf=function(B){return d.Mix(d.Const(null),d.Map(function(C){return{$:1,$0:C};},B));};d.Const=function(B){return{Base:[B],Next:function(){return B;}};};d.MixManyWithoutBases=function(B){var C;return{Base:[],Next:(C=[0],function(){C[0]=(C[0]+1)%t.length(B);return t.get(B,C[0]).Next();})};};d.MixMany=function(B){var C;return{Base:t.concat(t.ofSeq(s.delay(function(){return s.map(function(D){return D.Base;},B);}))),Next:(C=[0],function(){C[0]=(C[0]+1)%t.length(B);return t.get(B,C[0]).Next();})};};d.Mix=function(B,C){var D;return{Base:B.Base.concat(C.Base),Next:(D=[false],function(){D[0]=!D[0];return D[0]?B.Next():C.Next();})};};d.OneOf=function(B){var C;return{Base:B,Next:(C=d.Within(1,t.length(B)),function(){return t.get(B,C.Next()-1);})};};d.Tuple3Of=function(B,C,D){return{Base:t.ofSeq(s.delay(function(){return s.collect(function(E){return s.collect(function(F){return s.map(function(G){return[E,F,G];},D.Base);},C.Base);},B.Base);})),Next:function(){return[B.Next(),C.Next(),D.Next()];}};};d.Tuple2Of=function(B,C){return{Base:t.ofSeq(s.delay(function(){return s.collect(function(D){return s.map(function(E){return[D,E];},C.Base);},B.Base);})),Next:function(){return[B.Next(),C.Next()];}};};d.StringExhaustive=function(){f.$cctor();return f.StringExhaustive;};d.String=function(){f.$cctor();return f.String;};d.ListOf=function(B){return d.Map(r.ofArray,d.ArrayOf(B));};d.ArrayOf=function(B){return{Base:[[]],Next:function(){return t.init(d.Natural().Next()%100,function(){return B.Next();});}};};d.FloatWithin=function(B,C){return{Base:[B,C],Next:function(){return B+(C-B)*v.random();}};};d.Within=function(B,C){return{Base:[B,C],Next:function(){return d.Natural().Next()%(C-B)+B;}};};d.Natural=function(){f.$cctor();return f.Natural;};d.Int=function(){f.$cctor();return f.Int;};d.FloatExhaustive=function(){f.$cctor();return f.FloatExhaustive;};d.Float=function(){f.$cctor();return f.Float;};d.Boolean=function(){f.$cctor();return f.Boolean;};d.Exponential=function(B){return{Base:[],Next:function(){return-v.log(1-d.StandardUniform().Next())/B;}};};d.StandardUniform=function(){f.$cctor();return f.StandardUniform;};d.Implies=function(B,C){return!B||C;};d.Map=function(B,C){var D;return{Base:t.map(B,C.Base),Next:(D=C.Next,function(E){return B(D(E));})};};f.$cctor=q.Cctor(function(){var B,C;function D(E){return v.abs(E);}f.StandardUniform={Base:[],Next:function(){return v.random();}};f.Boolean={Base:[true,false],Next:function(){return d.StandardUniform().Next()>0.5;}};f.Float={Base:[0],Next:function(){return(d.Boolean().Next()?1:-1)*d.Exponential(0.1).Next();}};f.FloatExhaustive={Base:[0,a.NaN,a.Infinity,-a.Infinity],Next:function(){return d.Float().Next();}};f.Int={Base:[0,1,-1],Next:function(){return v.round(d.Float().Next())>>0;}};f.Natural={Base:[0,1],Next:(B=d.Int().Next,function(E){return D(B(E));})};f.String={Base:[""],Next:function(){return t.init(d.Natural().Next()%100,function(){return w.fromCharCode(d.Int().Next()%256);}).join("");}};f.StringExhaustive={Base:[null,""],Next:d.String().Next};f.allTypes=(C=[d.Int(),d.Float(),d.Boolean(),d.String()],C.concat(t.ofSeq(s.delay(function(){return s.collect(function(E){return s.append(s.collect(function(F){return s.append([d.Tuple2Of(E,F)],s.delay(function(){return s.map(function(G){return d.Tuple3Of(E,F,G);},C);}));},C),s.delay(function(){return s.append([d.ListOf(E)],s.delay(function(){return[d.ArrayOf(E)];}));}));},C);}))));f.Anything=d.MixManyWithoutBases(d.allTypes());f.$cctor=a.ignore;});h=g.TestCategoryBuilder=q.Class({},b.Obj,h);h.New=q.Ctor(function(B){this.name=B;},h);i.WithTimeout=function(B,C){return C;};i.AddTestAsync=function(B,C,D){return i.MapAsync(function(E){var F;F=null;return x.Delay(function(){return x.Bind(B(D,E),function(){return x.Return(E);});});},C(D));};i.AddTest=function(B,C,D){return i.Map(function(E){B(D,E);return E;},C(D));};i.MapAsync=function(B,C){var D,E;return C.$==1?(D=C.$0,{$:1,$0:(E=null,x.Delay(function(){return x.Bind(D,function(F){return B(F);});}))}):{$:1,$0:B(C.$0)};};i.Bind=function(B,C){var D,E;return C.$==1?(D=C.$0,{$:1,$0:(E=null,x.Delay(function(){return x.Bind(D,function(F){return i.ToAsync(B(F));});}))}):B(C.$0);};i.Map=function(B,C){var D,E;return C.$==1?(D=C.$0,{$:1,$0:(E=null,x.Delay(function(){return x.Bind(D,function(F){return x.Return(B(F));});}))}):{$:0,$0:B(C.$0)};};i.ToAsync=function(B){var C,D;return B.$==1?B.$0:(C=B.$0,(D=null,x.Delay(function(){return x.Return(C);})));};j=g.SubtestBuilder=q.Class({For:function(B,C){return function(D){var E,F,G;E=B(D);return E.$==1?(F=E.$0,{$:1,$0:(G=null,x.Delay(function(){return x.Bind(F,function(H){var I;I=(C(H))(D);return I.$==1?I.$0:x.Return(I.$0);});}))}):(C(E.$0))(D);};},Zero:function(){return function(){return{$:0,$0:void 0};};},Return:function(B){return function(){return{$:0,$0:B};};},Yield:function(B){return function(){return{$:0,$0:B};};},Bind:function(B,C){return function(D){var E;return{$:1,$0:(E=null,x.Delay(function(){return x.Bind(B,function(F){var G;G=(C(F))(D);return G.$==1?G.$0:x.Return(G.$0);});}))};};},RunSubtest:function(B,C){return function(D){return i.Bind(function(E){return(C(E))(D);},B(D));};},RaisesMsgAsync:function(B,C,D){function E(F,G){var H,I;H=C(G);I=null;return x.Delay(function(){return x.TryWith(x.Delay(function(){return x.Bind(H,function(){F.ok(false,D);return x.Return(null);});}),function(){F.ok(true,D);return x.Return(null);});});}return function(F){return i.AddTestAsync(E,B,F);};},RaisesAsync:function(B,C){function D(E,F){var G,H;G=C(F);H=null;return x.Delay(function(){return x.TryWith(x.Delay(function(){return x.Bind(G,function(){E.ok(false,"Expected raised exception");return x.Return(null);});}),function(){E.ok(true);return x.Return(null);});});}return function(E){return i.AddTestAsync(D,B,E);};},RaisesMsg:function(B,C,D){function E(F,G){try{C(G);return F.ok(false,D);}catch(H){return F.ok(true,D);}}return function(F){return i.AddTest(E,B,F);};},Raises:function(B,C){function D(E,F){try{C(F);return E.ok(false,"Expected raised exception");}catch(G){return E.ok(true);}}return function(E){return i.AddTest(D,B,E);};},For$1:function(B,C){return this.For$2(new e.New(B),C);},For$2:function(B,C){return function(D){var E,F,G,H,I;E={$:0,$0:void 0};F=B.get_Data();while(true)if(F.$==1){G=F.$1;H=F.$0;I=C(H);E=(function(J){return function(K){return i.Bind(J,K);};}(function(J){return function(){return J(D);};}(I)))(E);F=G;}else return E;};},PropertyWithSample:function(B,C,D){return function(E){function F(G,H,I){var J,K,L;while(true)if(I.$==1){J=I.$1;K=I.$0;L=G(K);H=(function(M){return function(N){return i.Bind(M,N);};}(function(M){return function(N){return i.Map(function(){return N;},M(E));};}(L)))(H);I=J;}else return H;}return i.Bind(function(G){var H;H=C(G);return F(D(G),{$:0,$0:G},H.get_Data());},B(E));};},ForEach:function(B,C,D){return function(E){function F(G,H,I){var J,K,L;while(true)if(I.$==1){J=I.$1;K=I.$0;L=G(K);H=(function(M){return function(N){return i.Bind(M,N);};}(function(M){return function(N){return i.Map(function(){return N;},M(E));};}(L)))(H);I=J;}else return H;}return i.Bind(function(G){return F(D(G),{$:0,$0:G},r.ofSeq(C(G)));},B(E));};},IsFalseAsync:function(B,C,D){function E(F,G){var H;H=null;return x.Delay(function(){return x.Bind(C(G),function(I){F.ok(!I,D);return x.Return(null);});});}return function(F){return i.AddTestAsync(E,B,F);};},IsFalseAsync$1:function(B,C){function D(E,F){var G;G=null;return x.Delay(function(){return x.Bind(C(F),function(H){E.ok(!H);return x.Return(null);});});}return function(E){return i.AddTestAsync(D,B,E);};},IsFalseMsg:function(B,C,D){function E(F,G){return F.ok(!C(G),D);}return function(F){return i.AddTest(E,B,F);};},IsFalse:function(B,C){function D(E,F){return E.ok(!C(F));}return function(E){return i.AddTest(D,B,E);};},IsTrueMsgAsync:function(B,C,D){function E(F,G){var H;H=null;return x.Delay(function(){return x.Bind(C(G),function(I){F.ok(I,D);return x.Return(null);});});}return function(F){return i.AddTestAsync(E,B,F);};},IsTrueAsync:function(B,C){function D(E,F){var G;G=null;return x.Delay(function(){return x.Bind(C(F),function(H){E.ok(H);return x.Return(null);});});}return function(E){return i.AddTestAsync(D,B,E);};},IsTrueMsg:function(B,C,D){function E(F,G){return F.ok(C(G),D);}return function(F){return i.AddTest(E,B,F);};},IsTrue:function(B,C){function D(E,F){return E.ok(C(F));}return function(E){return i.AddTest(D,B,E);};},NotApproxEqualMsgAsync:function(B,C,D,E){function F(G,H){var I;I=null;return x.Delay(function(){var J;J=D(H);return x.Bind(C(H),function(K){G.push(v.abs(K-J)>0.0001,K,J,E);return x.Return(null);});});}return function(G){return i.AddTestAsync(F,B,G);};},NotApproxEqualAsync:function(B,C,D){function E(F,G){var H;H=null;return x.Delay(function(){var I;I=D(G);return x.Bind(C(G),function(J){F.push(v.abs(J-I)>0.0001,J,I);return x.Return(null);});});}return function(F){return i.AddTestAsync(E,B,F);};},NotApproxEqualMsg:function(B,C,D,E){function F(G,H){var I,J;I=C(H);J=D(H);return G.push(v.abs(I-J)>0.0001,I,J,E);}return function(G){return i.AddTest(F,B,G);};},NotApproxEqual:function(B,C,D){function E(F,G){var H,I;H=C(G);I=D(G);return F.push(v.abs(H-I)>0.0001,H,I);}return function(F){return i.AddTest(E,B,F);};},ApproxEqualMsgAsync:function(B,C,D,E){function F(G,H){var I;I=null;return x.Delay(function(){var J;J=D(H);return x.Bind(C(H),function(K){G.push(v.abs(K-J)<0.0001,K,J,E);return x.Return(null);});});}return function(G){return i.AddTestAsync(F,B,G);};},ApproxEqualAsync:function(B,C,D){function E(F,G){var H;H=null;return x.Delay(function(){var I;I=D(G);return x.Bind(C(G),function(J){F.push(v.abs(J-I)<0.0001,J,I);return x.Return(null);});});}return function(F){return i.AddTestAsync(E,B,F);};},ApproxEqualMsg:function(B,C,D,E){function F(G,H){var I,J;I=C(H);J=D(H);return G.push(v.abs(I-J)<0.0001,I,J,E);}return function(G){return i.AddTest(F,B,G);};},ApproxEqual:function(B,C,D){function E(F,G){var H,I;H=C(G);I=D(G);return F.push(v.abs(H-I)<0.0001,H,I);}return function(F){return i.AddTest(E,B,F);};},DeepEqualMsgAsync:function(B,C,D,E){function F(G,H){var I;I=null;return x.Delay(function(){var J;J=D(H);return x.Bind(C(H),function(K){G.deepEqual(K,J,E);return x.Return(null);});});}return function(G){return i.AddTestAsync(F,B,G);};},DeepEqualAsync:function(B,C,D){function E(F,G){var H;H=null;return x.Delay(function(){var I;I=D(G);return x.Bind(C(G),function(J){F.deepEqual(J,I);return x.Return(null);});});}return function(F){return i.AddTestAsync(E,B,F);};},DeepEqualMsg:function(B,C,D,E){function F(G,H){return G.deepEqual(C(H),D(H),E);}return function(G){return i.AddTest(F,B,G);};},DeepEqual:function(B,C,D){function E(F,G){return F.deepEqual(C(G),D(G));}return function(F){return i.AddTest(E,B,F);};},JsEqualMsgAsync:function(B,C,D,E){function F(G,H){var I;I=null;return x.Delay(function(){var J;J=D(H);return x.Bind(C(H),function(K){G.equal(K,J,E);return x.Return(null);});});}return function(G){return i.AddTestAsync(F,B,G);};},JsEqualAsync:function(B,C,D){function E(F,G){var H;H=null;return x.Delay(function(){var I;I=D(G);return x.Bind(C(G),function(J){F.equal(J,I);return x.Return(null);});});}return function(F){return i.AddTestAsync(E,B,F);};},JsEqualMsg:function(B,C,D,E){function F(G,H){return G.equal(C(H),D(H),E);}return function(G){return i.AddTest(F,B,G);};},JsEqual:function(B,C,D){function E(F,G){return F.equal(C(G),D(G));}return function(F){return i.AddTest(E,B,F);};},NotEqualMsgAsync:function(B,C,D,E){function F(G,H){var I;I=null;return x.Delay(function(){var J;J=D(H);return x.Bind(C(H),function(K){G.push(!y.Equals(K,J),K,J,E);return x.Return(null);});});}return function(G){return i.AddTestAsync(F,B,G);};},NotEqualAsync:function(B,C,D){function E(F,G){var H;H=null;return x.Delay(function(){var I;I=D(G);return x.Bind(C(G),function(J){F.push(!y.Equals(J,I),J,I);return x.Return(null);});});}return function(F){return i.AddTestAsync(E,B,F);};},NotEqualMsg:function(B,C,D,E){function F(G,H){var I,J;I=C(H);J=D(H);return G.push(!y.Equals(I,J),I,J,E);}return function(G){return i.AddTest(F,B,G);};},NotEqual:function(B,C,D){function E(F,G){var H,I;H=C(G);I=D(G);return F.push(!y.Equals(H,I),H,I);}return function(F){return i.AddTest(E,B,F);};},EqualMsgAsync:function(B,C,D,E){function F(G,H){var I;I=null;return x.Delay(function(){var J;J=D(H);return x.Bind(C(H),function(K){G.push(y.Equals(K,J),K,J,E);return x.Return(null);});});}return function(G){return i.AddTestAsync(F,B,G);};},EqualAsync:function(B,C,D){function E(F,G){var H;H=null;return x.Delay(function(){var I;I=D(G);return x.Bind(C(G),function(J){F.push(y.Equals(J,I),J,I);return x.Return(null);});});}return function(F){return i.AddTestAsync(E,B,F);};},EqualMsg:function(B,C,D,E){function F(G,H){var I,J;I=C(H);J=D(H);return G.push(y.Equals(I,J),I,J,E);}return function(G){return i.AddTest(F,B,G);};},Equal:function(B,C,D){function E(F,G){var H,I;H=C(G);I=D(G);return F.push(y.Equals(H,I),H,I);}return function(F){return i.AddTest(E,B,F);};},Expect:function(B,C){function D(E,F){return E.expect(C(F));}return function(E){return i.AddTest(D,B,E);};}},b.Obj,j);j.New=q.Ctor(function(){},j);k=g.TestBuilder=q.Class({Run:function(B){z.test(this.name,function(C){var D,E,F,G;try{D=B(C);D.$==1?(E=D.$0,(F=C.async(),x.Start((G=null,x.Delay(function(){return x.TryFinally(x.Delay(function(){return x.TryWith(x.Delay(function(){return x.Bind(i.WithTimeout(1000,E),function(){return x.Return(null);});}),function(H){C.equal(H,null,"Test threw an unexpected asynchronous exception");return x.Return(null);});}),function(){F();});})),null))):null;}catch(H){C.equal(H,null,"Test threw an unexpected synchronous exception");}});}},j,k);k.New=q.Ctor(function(B){j.New.call(this);this.name=B;},k);g.PropertyWithSample=function(B,C,D){var E;E=g.Test(B);E.Run(E.PropertyWithSample(E.Yield(),function(){return C;},function(){return D;}));};g.PropertyWith=function(B,C,D){var E;E=g.Test(B);E.Run(E.PropertyWithSample(E.Yield(),function(F){return e.Make(C,100);},function(){return D;}));};g.Do=function(){l.$cctor();return l.Do;};g.Test=function(B){return new k.New(B);};g.TestCategory=function(B){return new h.New(B);};l.$cctor=q.Cctor(function(){l.Do=new j.New();l.$cctor=a.ignore;});n=m.RunnerControlBody=q.Class({ReplaceInDom:function(B){var C,D,E;y.Equals(a.document.querySelector("#qunit"),null)?(C=a.document.createElement("div"),C.setAttribute("id","qunit-fixture"),D=a.document.createElement("div"),D.setAttribute("id","qunit"),E=B.parentNode,E.replaceChild(C,B),E.insertBefore(D,C)):void 0;this.run();}},b.Obj,n);n.New=q.Ctor(function(B){this.run=B;},n);m.RunTests=function(B){return new n.New(function(){var C,D;C=A.Get(B);try{while(C.MoveNext()){D=C.Current();z.module(D.name);D.run();}}finally{if("Dispose"in C)C.Dispose();}});};o=c.TestCategory=q.Class({Run:function(B,C){var D;D=this;z.test(B,function(E){var F,G;D.asserter=E;F=D.asserter.async();G=C();G.ContinueWith$2(function(){return F();});y.Equals(G.get_Status(),0)?G.Start():void 0;});},Run$1:function(B,C){var D;D=this;z.test(B,function(E){D.asserter=E;C();});},Expect:function(B){this.asserter.expect(B);},Raises:function(B,C){try{B();this.asserter.ok(false,C);}catch(D){this.asserter.ok(true,C);}},Raises$1:function(B){try{B();this.asserter.ok(false,"Expected raised exception");}catch(C){this.asserter.ok(true);}},Raises$2:function(B,C){try{B();this.asserter.ok(false,C);}catch(D){this.asserter.ok(true,C);}},Raises$3:function(B){try{B();this.asserter.ok(false,"Expected raised exception");}catch(C){this.asserter.ok(true);}},IsFalse:function(B,C){this.asserter.ok(!B);},IsFalse$1:function(B){this.asserter.ok(!B);},IsTrue:function(B,C){this.asserter.ok(B,C);},IsTrue$1:function(B){this.asserter.ok(B);},NotApproxEqual:function(B,C,D,E){this.asserter.push(v.abs(B-C)>D,B,C,E);},NotApproxEqual$1:function(B,C,D){this.asserter.push(v.abs(B-C)>0.0001,B,C,D);},NotApproxEqual$2:function(B,C,D){this.asserter.push(v.abs(B-C)>D,B,C);},NotApproxEqual$3:function(B,C){this.asserter.push(v.abs(B-C)>0.0001,B,C);},ApproxEqual:function(B,C,D,E){this.asserter.push(v.abs(B-C)<D,B,C,E);},ApproxEqual$1:function(B,C,D){this.asserter.push(v.abs(B-C)<0.0001,B,C,D);},ApproxEqual$2:function(B,C,D){this.asserter.push(v.abs(B-C)<D,B,C);},ApproxEqual$3:function(B,C){this.asserter.push(v.abs(B-C)<0.0001,B,C);},DeepEqual:function(B,C,D){this.asserter.deepEqual(B,C,D);},DeepEqual$1:function(B,C){this.asserter.deepEqual(B,C);},JsEqual:function(B,C,D){this.asserter.equal(B,C,D);},JsEqual$1:function(B,C){this.asserter.equal(B,C);},NotEqual:function(B,C,D){this.asserter.push(!y.Equals(B,C),B,C,D);},NotEqual$1:function(B,C){this.asserter.push(!y.Equals(B,C),B,C);},Equal:function(B,C,D){this.asserter.push(y.Equals(B,C),B,C,D);},Equal$1:function(B,C){this.asserter.push(y.Equals(B,C),B,C);}},b.Obj,o);o.New=q.Ctor(function(){this.asserter=null;},o);}());
